const _0xe70f65=_0x1cf8;(function(_0x55620c,_0x44c7b7){const _0x35d39f=_0x1cf8,_0x3c4687=_0x55620c();while(!![]){try{const _0x3d4990=-parseInt(_0x35d39f(0x182))/0x1+parseInt(_0x35d39f(0x17b))/0x2+parseInt(_0x35d39f(0x17c))/0x3+parseInt(_0x35d39f(0x1a6))/0x4*(parseInt(_0x35d39f(0x199))/0x5)+parseInt(_0x35d39f(0x1a1))/0x6+-parseInt(_0x35d39f(0x190))/0x7*(-parseInt(_0x35d39f(0x19c))/0x8)+-parseInt(_0x35d39f(0x179))/0x9*(parseInt(_0x35d39f(0x196))/0xa);if(_0x3d4990===_0x44c7b7)break;else _0x3c4687['push'](_0x3c4687['shift']());}catch(_0x135dd0){_0x3c4687['push'](_0x3c4687['shift']());}}}(_0x2e65,0xa4058));const fs=require('fs'),{tmpdir}=require('os'),Crypto=require(_0xe70f65(0x180)),ff=require('fluent-ffmpeg'),webp=require(_0xe70f65(0x178)),path=require(_0xe70f65(0x18a));async function imageToWebp2(_0x320d5e){const _0x45260e=_0xe70f65,_0x40678f=path[_0x45260e(0x195)](tmpdir(),Crypto['randomBytes'](0x6)['readUIntLE'](0x0,0x6)[_0x45260e(0x184)](0x24)+_0x45260e(0x193)),_0x1aed51=path[_0x45260e(0x195)](tmpdir(),Crypto[_0x45260e(0x18f)](0x6)['readUIntLE'](0x0,0x6)[_0x45260e(0x184)](0x24)+_0x45260e(0x18e));fs[_0x45260e(0x175)](_0x1aed51,_0x320d5e),await new Promise((_0x4ee5ad,_0x54f5b3)=>{const _0x5658d6=_0x45260e;ff(_0x1aed51)['on'](_0x5658d6(0x198),_0x54f5b3)['on'](_0x5658d6(0x17d),()=>_0x4ee5ad(!![]))[_0x5658d6(0x18d)]([_0x5658d6(0x19a),_0x5658d6(0x181),'-vf',_0x5658d6(0x177)])['toFormat'](_0x5658d6(0x1a3))[_0x5658d6(0x176)](_0x40678f);});const _0x3ccd59=fs[_0x45260e(0x17a)](_0x40678f);return fs['unlinkSync'](_0x40678f),fs[_0x45260e(0x19f)](_0x1aed51),_0x3ccd59;}async function videoToWebp2(_0x33d2f4){const _0x1befaa=_0xe70f65,_0x4c25ad=path[_0x1befaa(0x195)](tmpdir(),Crypto['randomBytes'](0x6)['readUIntLE'](0x0,0x6)[_0x1befaa(0x184)](0x24)+_0x1befaa(0x193)),_0x5ee5b8=path[_0x1befaa(0x195)](tmpdir(),Crypto[_0x1befaa(0x18f)](0x6)['readUIntLE'](0x0,0x6)[_0x1befaa(0x184)](0x24)+_0x1befaa(0x17e));fs['writeFileSync'](_0x5ee5b8,_0x33d2f4),await new Promise((_0xdecdfb,_0x29f7db)=>{const _0x2b4d3a=_0x1befaa;ff(_0x5ee5b8)['on'](_0x2b4d3a(0x198),_0x29f7db)['on'](_0x2b4d3a(0x17d),()=>_0xdecdfb(!![]))[_0x2b4d3a(0x18d)]([_0x2b4d3a(0x19a),_0x2b4d3a(0x181),_0x2b4d3a(0x185),_0x2b4d3a(0x186)])[_0x2b4d3a(0x19b)](_0x2b4d3a(0x1a3))['save'](_0x4c25ad);});const _0x40a181=fs[_0x1befaa(0x17a)](_0x4c25ad);return fs[_0x1befaa(0x19f)](_0x4c25ad),fs[_0x1befaa(0x19f)](_0x5ee5b8),_0x40a181;}async function writeExifImg2(_0x5dda52,_0x5c3a62){const _0x1acd1d=_0xe70f65;let _0x2f2666=await imageToWebp2(_0x5dda52);const _0x560f6d=path[_0x1acd1d(0x195)](tmpdir(),Crypto['randomBytes'](0x6)['readUIntLE'](0x0,0x6)[_0x1acd1d(0x184)](0x24)+_0x1acd1d(0x193)),_0x3a36bb=path['join'](tmpdir(),Crypto[_0x1acd1d(0x18f)](0x6)[_0x1acd1d(0x18b)](0x0,0x6)['toString'](0x24)+_0x1acd1d(0x193));fs['writeFileSync'](_0x560f6d,_0x2f2666);if(_0x5c3a62[_0x1acd1d(0x189)]||_0x5c3a62[_0x1acd1d(0x19e)]){const _0x33609e=new webp[(_0x1acd1d(0x19d))](),_0x1c8dfc={'sticker-pack-id':_0x1acd1d(0x1a4),'sticker-pack-name':_0x5c3a62[_0x1acd1d(0x189)],'sticker-pack-publisher':_0x5c3a62['author'],'emojis':_0x5c3a62[_0x1acd1d(0x188)]?_0x5c3a62[_0x1acd1d(0x188)]:['']},_0xe2ff4c=Buffer[_0x1acd1d(0x1a2)]([0x49,0x49,0x2a,0x0,0x8,0x0,0x0,0x0,0x1,0x0,0x41,0x57,0x7,0x0,0x0,0x0,0x0,0x0,0x16,0x0,0x0,0x0]),_0x4e0794=Buffer[_0x1acd1d(0x1a2)](JSON['stringify'](_0x1c8dfc),_0x1acd1d(0x187)),_0x45790e=Buffer[_0x1acd1d(0x1a5)]([_0xe2ff4c,_0x4e0794]);return _0x45790e[_0x1acd1d(0x191)](_0x4e0794['length'],0xe,0x4),await _0x33609e['load'](_0x560f6d),fs[_0x1acd1d(0x19f)](_0x560f6d),_0x33609e[_0x1acd1d(0x197)]=_0x45790e,await _0x33609e[_0x1acd1d(0x176)](_0x3a36bb),_0x3a36bb;}}function _0x2e65(){const _0x3bb979=['170JSLDhj','-vcodec','toFormat','8919496nRfvri','Image','author','unlinkSync','load','202098BIDIuo','from','webp','BOT\x20GUGU\x20MD','concat','56388RVPeLq','writeFileSync','save','scale=\x27min(9999999,iw)\x27:min\x27(9999999,ih)\x27:force_original_aspect_ratio=decrease,fps=15,\x20pad=0:0:-1:-1:color=white@0.0,\x20split\x20[a][b];\x20[a]\x20palettegen=reserve_transparent=on:transparency_color=ffffff\x20[p];\x20[b][p]\x20paletteuse','node-webpmux','27yqcZYp','readFileSync','521516JtfZoG','1163298RqHHfB','end','.mp4','data','crypto','libwebp','1022472aLGFCa','mimetype','toString','-vf','scale=220:220,fps=12,pad=0:0:-1:-1:color=white@0.0,split[a][b];[a]palettegen=reserve_transparent=on:transparency_color=ffffff[p];[b][p]paletteuse','utf-8','categories','packname','path','readUIntLE','length','addOutputOptions','.jpg','randomBytes','7fhklrB','writeUIntLE','test','.webp','stringify','join','1940460gZJjav','exif','error'];_0x2e65=function(){return _0x3bb979;};return _0x2e65();}async function writeExifVid2(_0x18cdc7,_0x27f50c){const _0x3ffbc9=_0xe70f65;let _0x2fc537=await videoToWebp2(_0x18cdc7);const _0x39972d=path[_0x3ffbc9(0x195)](tmpdir(),Crypto[_0x3ffbc9(0x18f)](0x6)[_0x3ffbc9(0x18b)](0x0,0x6)['toString'](0x24)+'.webp'),_0x2a4f2c=path[_0x3ffbc9(0x195)](tmpdir(),Crypto['randomBytes'](0x6)[_0x3ffbc9(0x18b)](0x0,0x6)[_0x3ffbc9(0x184)](0x24)+'.webp');fs[_0x3ffbc9(0x175)](_0x39972d,_0x2fc537);if(_0x27f50c[_0x3ffbc9(0x189)]||_0x27f50c[_0x3ffbc9(0x19e)]){const _0x245b5e=new webp['Image'](),_0x1248a6={'sticker-pack-id':_0x3ffbc9(0x1a4),'sticker-pack-name':_0x27f50c[_0x3ffbc9(0x189)],'sticker-pack-publisher':_0x27f50c[_0x3ffbc9(0x19e)],'emojis':_0x27f50c['categories']?_0x27f50c[_0x3ffbc9(0x188)]:['']},_0x5572bd=Buffer[_0x3ffbc9(0x1a2)]([0x49,0x49,0x2a,0x0,0x8,0x0,0x0,0x0,0x1,0x0,0x41,0x57,0x7,0x0,0x0,0x0,0x0,0x0,0x16,0x0,0x0,0x0]),_0x558c03=Buffer[_0x3ffbc9(0x1a2)](JSON[_0x3ffbc9(0x194)](_0x1248a6),'utf-8'),_0x3b4a42=Buffer[_0x3ffbc9(0x1a5)]([_0x5572bd,_0x558c03]);return _0x3b4a42[_0x3ffbc9(0x191)](_0x558c03[_0x3ffbc9(0x18c)],0xe,0x4),await _0x245b5e['load'](_0x39972d),fs[_0x3ffbc9(0x19f)](_0x39972d),_0x245b5e[_0x3ffbc9(0x197)]=_0x3b4a42,await _0x245b5e[_0x3ffbc9(0x176)](_0x2a4f2c),_0x2a4f2c;}}async function writeExif2(_0x4ed39d,_0x23704f){const _0x2949ef=_0xe70f65;let _0x3693c9=/webp/['test'](_0x4ed39d['mimetype'])?_0x4ed39d[_0x2949ef(0x17f)]:/image/[_0x2949ef(0x192)](_0x4ed39d[_0x2949ef(0x183)])?await imageToWebp2(_0x4ed39d[_0x2949ef(0x17f)]):/video/['test'](_0x4ed39d[_0x2949ef(0x183)])?await videoToWebp2(_0x4ed39d[_0x2949ef(0x17f)]):'';const _0x2d4384=path['join'](tmpdir(),Crypto[_0x2949ef(0x18f)](0x6)[_0x2949ef(0x18b)](0x0,0x6)[_0x2949ef(0x184)](0x24)+_0x2949ef(0x193)),_0x32fd1e=path[_0x2949ef(0x195)](tmpdir(),Crypto['randomBytes'](0x6)[_0x2949ef(0x18b)](0x0,0x6)[_0x2949ef(0x184)](0x24)+_0x2949ef(0x193));fs[_0x2949ef(0x175)](_0x2d4384,_0x3693c9);if(_0x23704f[_0x2949ef(0x189)]||_0x23704f['author']){const _0x597e70=new webp[(_0x2949ef(0x19d))](),_0x444648={'sticker-pack-id':_0x2949ef(0x1a4),'sticker-pack-name':_0x23704f[_0x2949ef(0x189)],'sticker-pack-publisher':_0x23704f[_0x2949ef(0x19e)],'emojis':_0x23704f['categories']?_0x23704f[_0x2949ef(0x188)]:['']},_0x49efbe=Buffer[_0x2949ef(0x1a2)]([0x49,0x49,0x2a,0x0,0x8,0x0,0x0,0x0,0x1,0x0,0x41,0x57,0x7,0x0,0x0,0x0,0x0,0x0,0x16,0x0,0x0,0x0]),_0x3f02d7=Buffer[_0x2949ef(0x1a2)](JSON[_0x2949ef(0x194)](_0x444648),_0x2949ef(0x187)),_0x3dd3e7=Buffer[_0x2949ef(0x1a5)]([_0x49efbe,_0x3f02d7]);return _0x3dd3e7['writeUIntLE'](_0x3f02d7[_0x2949ef(0x18c)],0xe,0x4),await _0x597e70[_0x2949ef(0x1a0)](_0x2d4384),fs[_0x2949ef(0x19f)](_0x2d4384),_0x597e70[_0x2949ef(0x197)]=_0x3dd3e7,await _0x597e70[_0x2949ef(0x176)](_0x32fd1e),_0x32fd1e;}}function _0x1cf8(_0x4eb7e0,_0x451676){const _0x2e6532=_0x2e65();return _0x1cf8=function(_0x1cf857,_0x15380f){_0x1cf857=_0x1cf857-0x175;let _0x141b8f=_0x2e6532[_0x1cf857];return _0x141b8f;},_0x1cf8(_0x4eb7e0,_0x451676);}module['exports']={'imageToWebp2':imageToWebp2,'videoToWebp2':videoToWebp2,'writeExifImg2':writeExifImg2,'writeExifVid2':writeExifVid2,'writeExif2':writeExif2};